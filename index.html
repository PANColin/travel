<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- 移动端禁止页面缩放的meta标签 -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0">
    <title>首页</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./fontawesome-free-5.15.3-web/css/all.css">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/responsiveIndex.css">
</head>

<body>
    <!-- 头部导航样式 -->
    <div class="header">
        <!-- 版心 -->
        <div class="header-c center">
            <a href="" class="logo"></a>
            <ul class="nav">
                <li class="active nav-list">
                    <a class="fir" href="index.html">首页</a>
                    <span class="line"></span>
                </li>
                <li class="nav-list">
                    <a class="fir" href="plan.html">特别策划</a>
                    <span class="line"></span>
                </li>
                <li class="nav-list">
                    <div class="top-bar">
                        <span>精品路线</span>
                        <div>
                            <a class="sec-t" href="fir-route.html">定制团体游</a>
                            <a class="active sec-b" href="sec-route.html">领队自由行</a>
                        </div>
                    </div>
                    <span class="line"></span>
                </li>
                <li class="nav-list">
                    <a class="fir" href="about.html">关于我们</a>
                    <span class="line"></span>
                </li>
                <li class="nav-list">
                    <a class="fir" href="contact.html">联系我们</a>
                    <span class="line"></span>
                </li>
            </ul>
            <button class="fa fa-list-ul"></button>
            <button class="fa fa-sort-amount-up"></button>
        </div>
    </div>
    <!-- banner样式 -->
    <div class="banner">
        <ul>
            <li class="list"><img src="img/banner.jpg" alt=""></li>
            <li class="list"><img src="img/banner-2.jpg" alt=""></li>
            <li class="list"><img src="img/banner-3.jpg" alt=""></li>
            <li class="list"><img src="img/banner.jpg" alt=""></li>
        </ul>
        <p class="title">——让美好触手可及——</p>
        <!-- 箭头 -->
        <p class="left fa fa-chevron-left" onclick="goNext()"></p>
        <p class="right fa fa-chevron-right" onclick="goNext(true)"></p>
        <!-- 小圆点 -->
        <div class="dian-box">
            <button class="active"></button>
            <button></button>
            <button></button>
        </div>
        <!-- 版心 -->
        <div class="banner-c center">

        </div>
    </div>
    <!-- plan样式 -->
    <div class="plan">
        <!-- 版心 -->
        <div class="plan-c center">
            <div class="top">
                <h3><span></span> 特别策划</h3>
                <h4>ACTIVITY&nbsp;ROUTR</h4>
            </div>
            <div class="content content-top">
                <div class="box-img">
                    <img src="img/plan-1.jpg" alt="">
                    <div class="mask"></div>
                </div>

                <div class="c">
                    <h3>苍山洱海旁，过一段慢时光</h3>
                    <h4>云南风花雪月之旅 （6days）</h4>
                    <p>
                        <span class="fa fa-globe-americas"> 洱海骑行</span>
                        <span class="fa fa-globe-americas"> 手作扎染</span>
                        <span class="fa fa-globe-americas"> 泸沽湖划船</span>
                        <span class="fa fa-globe-americas"> 草海</span>
                        <span class="fa fa-globe-americas"> 束河古镇</span>
                        <span class="fa fa-globe-americas"> 拉市海</span>
                    </p>
                </div>
            </div>
            <div class="content content-center">
                <div class="c">
                    <h3>苍近距离看“滚滚”花式卖萌</h3>
                    <h4>成都City Walk之旅 （6days）</h4>
                    <p>
                        <span class="fa fa-globe-americas"> 熊猫基地</span>
                        <span class="fa fa-globe-americas"> 宽窄巷子</span>
                        <span class="fa fa-globe-americas"> 武侯祠</span>
                        <span class="fa fa-globe-americas"> 小酒馆</span>
                        <span class="fa fa-globe-americas"> 吃货天堂</span>
                        <span class="fa fa-globe-americas"> 锦里</span>
                    </p>
                </div>
                <div class="box-img">
                    <img src="img/plan-2.jpg" alt="">
                    <div class="mask"></div>
                </div>
            </div>
            <div class="content content-bottom">
                <div class="box-img">
                    <img src="img/plan-3.jpg" alt="">
                    <div class="mask"></div>
                </div>

                <div class="c">
                    <h3>骑行青海湖，行摄纯净天空之境</h3>
                    <h4>梦回大西北之旅 （6days）</h4>
                    <p>
                        <span class="fa fa-globe-americas"> 茶卡盐湖</span>
                        <span class="fa fa-globe-americas"> U型天路</span>
                        <span class="fa fa-globe-americas"> 青海湖日出</span>
                        <span class="fa fa-globe-americas"> 魔鬼城</span>
                        <span class="fa fa-globe-americas"> 七彩丹霞</span>
                        <span class="fa fa-globe-americas"> 莫高窟</span>
                    </p>
                </div>
            </div>
            <div class="but"><button><a href="plan.html">MORE</a></button></div>
        </div>
    </div>
    <!-- about样式 -->
    <div class="about">
        <div class="left">
            <img class="about-logo" src="img/about-logo.png" alt="">
        </div>
        <!-- 版心 -->
        <div class="about-c center">
            <div class="top">
                <h3><span></span>关于我们</h3>
                <h4>ABOUT&nbsp;US</h4>
            </div>
        </div>
        <div class="right">
            <div class="first-dec">
                <div class="left-dec">
                    <h3>介绍</h3>
                    <h4>Introduce</h4>
                </div>
                <div class="right-content">
                    <p>新旅行概念社区，在这里，你可以收货来自世界各地的友谊，为您 提供省心、省钱、纯玩、有趣的路线随时带您出发看世界。</p>
                </div>
            </div>
            <div class="second-dec">
                <div class="left-dec">
                    <h3>理念</h3>
                    <h4>Concept</h4>
                </div>
                <div class="right-content">
                    <p>每一寸土地都承载着一个城市厚重而亲切的灵魂。About travel,about life,That's all.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- route样式 -->
    <div class="route">
        <!-- 版心 -->
        <div class="route-c center">
            <div class="top">
                <h3><span></span>精品路线</h3>
                <h4>CLASSICS&nbsp;ROUTR</h4>
            </div>
            <ul class="route-wrapper">
                <li class="route-box">
                    <h3>京都岚山深度一日游</h3>
                    <h4>寻找我们的风花雪月</h4>
                </li>
                <li class="route-box">
                    <img src="img/route-1.jpg" alt="">
                    <div class="mask-border"></div>
                </li>
                <li class="route-box">
                    <h3>西北精环线自驾游</h3>
                    <h4>圆一场北方的梦</h4>
                </li>
                <li class="route-box">
                    <img src="img/route-2.jpg" alt="">
                    <div class="mask-border"></div>
                </li>
                <li class="route-box">
                    <h3>东极岛三日游</h3>
                    <h4>后青春时代的海岛记忆</h4>
                </li>
                <li class="route-box">
                    <img src="img/route-3.jpg" alt="">
                    <div class="mask-border"></div>
                </li>
            </ul>
            <div class="but"><button><a href="">MORE</a></button></div>
        </div>
    </div>
    <!-- make样式 -->
    <div class="make">
        <!-- <img src="img/make.jpg" alt=""> -->
        <div class="mask">
            <div class="make-left">
                <h3>定制团体游</h3>
                <h4>独立成团&nbsp;专属定制</h4>
                <h5>简单几步，定制您的私人旅行</h5>
                <hr>
            </div>
            <div class="make-right">
                <h3>领队自由行</h3>
                <h4>金牌领队&nbsp;专业跟拍</h4>
                <h5>解锁陌生，升级地道旅游体验</h5>
                <hr>
            </div>
        </div>
        <!-- 版心 -->
        <div class="make-c center">

        </div>
    </div>
    <!-- 底部样式 -->
    <div class="footer">
        <!-- 版心 -->
        <div class="footer-c center">
            <div class="left">
                <h3><span></span> 联系我们</h3>
                <h4>CONTACT</h4>
                <dl>
                    <dt>慢旅Slow Travle工作室</dt>
                    <dd>地点：中国河南省郑州市绿地新都汇</dd>
                    <dd>邮编：1000000 </dd>
                    <dd>电话：0392-23656504</dd>
                    <dd>邮箱：manlv@qq.com</dd>
                    <dd>
                        <img src="img/QQ.png" alt="">
                        <img src="img/微信.png" alt="">
                        <img src="img/微博 .png" alt="">
                    </dd>
                    <dd>COPYRIGHT (©) 2018 mo004_2551 - 生活方式旅游类网站.</dd>
                </dl>
            </div>
            <div class="right">
                <form action="#">
                    <div class="bigbox">
                        <div class="box">
                            <p> 姓名</p><input class="name ipt" type="text">
                        </div>
                        <div class="box">
                            <p> 邮箱</p><input class="email ipt" type="text"></div>
                        <div class="box">
                            <p> 电话</p><input class="phone ipt" type="text">
                        </div>
                        <div class="box box-text">
                            <p>内容</p><input class="text ipt" type="text">
                        </div>
                        <div class="btu">
                            <button>提交</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="js/moveEase.js"></script>
    <!-- 轮播 -->
    <script>
        // 获取ul节点对象
        var ulEl = document.querySelector(".banner ul");
        //获取ul的所有子节点
        var liEls = ulEl.children;
        // console.log(liEls);
        // 获取li盒子的宽度
        var liWidth = liEls[0].offsetWidth;
        // 定义一个计数器用于计算left的值
        // 获取小圆点节点对象
        var circleEls = document.querySelectorAll(".banner .dian-box button");
        // 获取banner节点对象
        var bannerEl = document.querySelector(".banner");
        var count = 0;
        /**
         * 思路: 每点一个 都认为只走了一格
         * 1. 点击触发的时候,先把目标元素图片替换当前的下一张(前/后)图片
         * 2. 走一格
         * 3. 走完后瞬间切换到目标位置
         * 4. 还原之前的图片
         * */
        // 利用对象预存之前的图片
        var preImg = {
            index: 0,
            img: ""
        }

        function goNext(isRight) {
            if (isRight) {
                count++;
                if (count == liEls.length) {
                    count = 1;
                    ulEl.style.left = "0px";
                }
            } else {
                count--;
                if (count == -1) {
                    count = liEls.length - 2;
                    ulEl.style.left = -1 * (liEls.length - 1) * liWidth + "px";
                }
            }
            // 移动的位置（点击的次数）
            var targetLeft = -1 * liWidth * count;
            moveEase(ulEl, targetLeft);
            // 修改下标位置
            // 获取激活的下标元素，然后把激活样式清除
            // 获取激活样式的节点对象
            var preCirActive = document.querySelector(".banner .dian-box button.active");
            preCirActive.classList.remove("active");
            // 给处于当前count的点添加激活样式
            // circleEls[count].classList.add("active"); //点数小于图片的个数，导致最后一个circleEls[liEls.length]没有元素
            // console.log(circleEls[liEls.length]);//undefined
            // 所以需要提前判断一下
            if (count == liEls.length - 1) {
                circleEls[0].classList.add("active");
            } else {
                circleEls[count].classList.add("active");
            }
        }
        // 遍历小圆点给他绑定点击事件
        for (var i = 0; i < circleEls.length; i++) {
            // 利用对象的特性给事件传递下标
            circleEls[i].index = i;
            circleEls[i].onclick = function() {
                // 获取一个比较的定时器,然后判断具体的位置
                var preCount = count;
                // 把之前有的激活样式清除
                // 或者排他思想
                // 利用全局的计数器,把当前点击的index赋值给count当前的找到对应的left值
                count = this.index;
                for (var j = 0; j < circleEls.length; j++) {
                    circleEls[j].classList.remove("active");
                }
                // 然后给自己添加
                this.classList.add("active");
                // 预存目标的图片路径和下标
                // 预存对象的下标
                var nextIndex = preCount + ((count >= preCount) ? 1 : -1);
                // 预存对象的图片路径
                // 预存对象赋值
                preImg = {
                    index: nextIndex,
                    img: liEls[nextIndex].children[0].src
                };
                // 替换当前的图片路径到下一张(上一张)
                liEls[nextIndex].children[0].src = liEls[count].children[0].src;
                // 然后移动一格当前位置的left加一格
                // var target = ulEl.offsetLeft + liWidth * (count >= preCount ? 1 : -1);
                var target = ulEl.offsetLeft + liWidth * (count >= preCount ? -1 : 1);
                var that = this; //避面this指向发生改变
                // 然后利用封装好的匀速运动移动到目标位置
                moveEase(ulEl, target, function() {
                    // 走完之后再瞬间切换到目标位置
                    // 当前所处的位置
                    var nowTarget = -1 * liWidth * that.index;
                    ulEl.style.left = nowTarget + "px";
                    // 还原之前的图片,利用之前预存好的对象进行赋值
                    liEls[preImg.index].children[0].src = preImg.img;
                });

            }
        }

        /**
         * 利用定时器的循环执行方法实现自动的轮播
         * setInterval
         * */
        // 声明一个全局的timer
        var timer;

        function cirDo() {
            timer = setInterval(function() {
                goNext(true);
            }, 3000)
        };
        // 调用执行自动轮播
        cirDo();

        // 当鼠标进入banner的时候应该清除定时器
        // 给banner绑定鼠标移入移出事件
        bannerEl.onmouseenter = function() {
            // 当鼠标进入的时候清除定时器
            clearInterval(timer);
        }
        bannerEl.onmouseleave = function() {
                // 当鼠标离开的时候加上定时器(调用封装好的方法)
                cirDo();
            }
            // console.log(bannerEl);
    </script>
    <!-- 监听鼠标滚动事件 -->
    <script>
        // 获取header节点
        var headerEl = document.querySelector(".header");
        // console.log(headerEl.nextElementSibling.scrollTop);
        window.onscroll = function() {
            //为了保证兼容性，这里取两个值，哪个有值取哪一个
            //scrollTop就是触发滚轮事件时滚轮的高度
            var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            // console.log("滚动距离" + scrollTop);
            if (scrollTop >= headerEl.offsetHeight / 2) {
                headerEl.classList.add("active");
            } else {
                headerEl.classList.remove("active");
            }
        }
    </script>
    <!-- 响应式导航设置 -->
    <script>
        // 获取header-c 的导航栏对象
        var navEl = document.querySelector(".header-c .nav");
        // 获取button节点对象
        var buttonDownEl = document.querySelector(".header-c .fa.fa-list-ul");
        var buttonUpEl = document.querySelector(".header-c .fa.fa-sort-amount-up ");
        buttonDownEl.onclick = function() {
            navEl.style.opacity = "1";
            headerEl.classList.add("active");
            navEl.style.transform = "translate(-100%, 0)";
            buttonUpEl.style.display = "block";
            this.style.display = "none";
        }
        buttonUpEl.onclick = function() {
            navEl.style.opacity = "0";
            headerEl.classList.add("active");
            buttonDownEl.style.display = "block";
            this.style.display = "none";
            navEl.style.transform = "translate(100%, 0)";
        }
    </script>
</body>

</html>